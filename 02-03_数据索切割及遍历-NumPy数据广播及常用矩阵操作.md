## 2.3 NumPy数据广播及常用矩阵操作

示例：

	import numpy as np
	
	# Broadcasting
	my_3d_array = np.arange(70)
	print(my_3d_array)
	# [ 0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23
	#  24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47
	#  48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69]
	
	my_3d_array.shape = (2, 7, 5)
	print(my_3d_array)
	# [[[ 0  1  2  3  4]
	#   [ 5  6  7  8  9]
	#   [10 11 12 13 14]
	#   [15 16 17 18 19]
	#   [20 21 22 23 24]
	#   [25 26 27 28 29]
	#   [30 31 32 33 34]]
	#
	#  [[35 36 37 38 39]
	#   [40 41 42 43 44]
	#   [45 46 47 48 49]
	#   [50 51 52 53 54]
	#   [55 56 57 58 59]
	#   [60 61 62 63 64]
	#   [65 66 67 68 69]]]
	
	# shape属性
	print(my_3d_array.shape)
	# (2, 7, 5)
	
	# number of dimensions
	print(my_3d_array.ndim)
	# 3  说明该矩阵是3维的
	
	# size number of elements
	print(my_3d_array.size)
	# 70
	
	# data type for each element
	print(my_3d_array.dtype)
	# int32
	
	# 广播就是当两个数据的维度不匹配时，将小维度的放大然后再与大维度的进行相应操作。
	print(5 * my_3d_array - 2)
	# [[[ -2   3   8  13  18]
	#   [ 23  28  33  38  43]
	#   [ 48  53  58  63  68]
	#   [ 73  78  83  88  93]
	#   [ 98 103 108 113 118]
	#   [123 128 133 138 143]
	#   [148 153 158 163 168]]
	#
	#  [[173 178 183 188 193]
	#   [198 203 208 213 218]
	#   [223 228 233 238 243]
	#   [248 253 258 263 268]
	#   [273 278 283 288 293]
	#   [298 303 308 313 318]
	#   [323 328 333 338 343]]]
	
	# 以下操作与上面的操作是完全等价的，只是属于numpy的操作
	# 区别在于当数据量非常大时会高效很多
	print(np.subtract(np.multiply(5, my_3d_array),2))
	# [[[ -2   3   8  13  18]
	#   [ 23  28  33  38  43]
	#   [ 48  53  58  63  68]
	#   [ 73  78  83  88  93]
	#   [ 98 103 108 113 118]
	#   [123 128 133 138 143]
	#   [148 153 158 163 168]]
	#
	#  [[173 178 183 188 193]
	#   [198 203 208 213 218]
	#   [223 228 233 238 243]
	#   [248 253 258 263 268]
	#   [273 278 283 288 293]
	#   [298 303 308 313 318]
	#   [323 328 333 338 343]]]
	
	# 下一个示例
	# 两个矩阵可以相乘的基本条件是第一个矩阵的列等于第二个矩阵的行
	left_mat = np.arange(6).reshape(2, 3)
	print(left_mat)
	# [[0 1 2]
	#  [3 4 5]]
	
	right_mat = np.arange(15).reshape(3, 5)
	print(right_mat)
	# [[ 0  1  2  3  4]
	#  [ 5  6  7  8  9]
	#  [10 11 12 13 14]]
	
	print(np.dot(left_mat, right_mat))
	# [[ 25  28  31  34  37]
	#  [ 70  82  94 106 118]]
	
	print(my_3d_array.shape)
	# (2, 7, 5)
	
	# 所有元素累加求和
	print(my_3d_array.sum())
	# 2415
	
	# 第二维度与第一维度相应元素相加
	print(my_3d_array.sum(axis = 0))
	# [[ 35  37  39  41  43]
	#  [ 45  47  49  51  53]
	#  [ 55  57  59  61  63]
	#  [ 65  67  69  71  73]
	#  [ 75  77  79  81  83]
	#  [ 85  87  89  91  93]
	#  [ 95  97  99 101 103]]
	
	# 每个维度每个元素求和作为相应元素
	print(my_3d_array.sum(axis = 1))
	# [[105 112 119 126 133]
	#  [350 357 364 371 378]]
	
	# Broadcasting Rules
	my_2d_array = np.ones(35, dtype='int_').reshape(7,5)
	print(my_2d_array)
	# [[1 1 1 1 1]
	#  [1 1 1 1 1]
	#  [1 1 1 1 1]
	#  [1 1 1 1 1]
	#  [1 1 1 1 1]
	#  [1 1 1 1 1]
	#  [1 1 1 1 1]]
	
	print(my_2d_array * 3)
	# [[3 3 3 3 3]
	#  [3 3 3 3 3]
	#  [3 3 3 3 3]
	#  [3 3 3 3 3]
	#  [3 3 3 3 3]
	#  [3 3 3 3 3]
	#  [3 3 3 3 3]]
	
	my_2d_random_array = np.random.random((7, 5))
	print(my_2d_random_array)
	# [[0.31845463 0.90412983 0.52806    0.66770556 0.14912798]
	#  [0.35662065 0.6204006  0.59997925 0.42136253 0.948992  ]
	#  [0.6548505  0.33652238 0.80536916 0.58475731 0.08590449]
	#  [0.31403883 0.30275428 0.7849509  0.89420788 0.19078372]
	#  [0.1599861  0.86481606 0.0487362  0.02664643 0.16512309]
	#  [0.63038753 0.28738512 0.66867922 0.72563634 0.83795402]
	#  [0.41244885 0.76911091 0.62180839 0.58533359 0.7492302 ]]
	
	print(my_3d_array * my_2d_random_array)
	# [[[ 0.          0.38217806  0.85931538  1.78751638  2.87685555]
	#   [ 2.12296099  2.63187773  4.00441241  2.77096776  1.80686227]
	#   [ 0.95386848  9.21497774  5.33374647  1.26686192  7.83212428]
	#   [ 6.88020757  6.43155756  5.21326331  1.77424602 11.87994139]
	#   [13.50166441 19.34632143 21.059349   10.9607227  15.00992756]
	#   [21.56602827 11.13164544 15.67582234 26.40146902 24.57303024]
	#   [20.0320162  21.25129113 20.12926576 13.75479425 15.64150928]]
	#
	#  [[23.50140012 13.75841022 15.89733462 22.6418741  28.04934159]
	#   [16.98368793 17.98449781 24.02647447 14.89395169  8.83354889]
	#   [ 4.29240817 38.53536145 20.89050702  4.67764402 27.41243497]
	#   [22.93402525 20.50058974 15.94645249  5.22416882 33.76404394]
	#   [37.12957712 51.59019049 54.56285878 27.64008333 36.89940525]
	#   [51.75846785 26.11655277 35.99633278 59.40330528 54.23013571]
	#   [43.40270177 45.24468435 42.14565019 28.3432124  31.74306295]]]
